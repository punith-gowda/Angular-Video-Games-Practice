<div class="filters">
  <h4>Sort By</h4>
  <mat-button-toggle-group
    [(ngModel)]="sort"
    (selectionChange)="searchGames(sort)"
    aria-label="Font Style"
  >
    <mat-button-toggle (change)="searchGames($event.value)" value="name"
      >Name</mat-button-toggle
    >
    <mat-button-toggle (change)="searchGames($event.value)" value="-released"
      >Released</mat-button-toggle
    >
    <mat-button-toggle (change)="searchGames($event.value)" value="-added"
      >Added</mat-button-toggle
    >
    <mat-button-toggle (change)="searchGames($event.value)" value="-created"
      >Created</mat-button-toggle
    >
    <mat-button-toggle (change)="searchGames($event.value)" value="-updated"
      >Updated</mat-button-toggle
    >
    <mat-button-toggle (change)="searchGames($event.value)" value="-rating"
      >Rating</mat-button-toggle
    >
    <mat-button-toggle (change)="searchGames($event.value)" value="metacritic"
      >Metacritic</mat-button-toggle
    >
  </mat-button-toggle-group>
  <button (click)="sort = ''; searchGames(sort)" mat-button>Reset</button>
</div>

<div class="games">
  <ng-container *ngFor="let game of games">
    <div class="game" (click)="openGameDetails(game.id)">
      <div class="game-image">
        <img
          class="game-image"
          *ngIf="game.background_image"
          src="{{ game.background_image }}"
          alt="Game Image"
        />
        <img
          class="game-image"
          *ngIf="!game.background_image"
          alt="Game Image"
          src="https://img.icons8.com/plasticine/100/000000/no-image.png"
        />
      </div>
      <div class="game-info">
        <div class="game-details">
          <div class="game-title">
            <h3>{{ game.name }}</h3>
          </div>

          <div class="game-platforms">
            <img
              *ngFor="let Gplatform of game.parent_platforms"
              class="game-platform"
              src="assets/images/platforms/{{ Gplatform.platform.slug }}.svg"
              alt="Platform"
            />
          </div>
        </div>
      </div>
    </div>
  </ng-container>
</div>
